<div th:fragment="perkBuild" class="col">
  <div th:with="perks=${participant.getPerk()}"
       class="d-flex gap-1"
  >
    <div class="card bg-transparent border-0">
      <div class="card-body bg-transparent border-0 pb-0 d-flex justify-content-center"
           th:with="perkNum=${perks[0].getPerkNum()}"
      >
        <div class="d-flex justify-content-center align-self-center">
          <div th:replace="~{partials/detailed-match/participant-build/perk-build.html :: rune-icon(${perkNum}, ${true})}"></div>
        </div>
      </div>

      <div class="card-footer bg-transparent border-0">
        <div class="d-flex justify-content-center gap-3 p-1 rounded bg-color-neutral-medDark">
          <th:block th:each="perk, perkIndex : ${perks}"
               th:with="perkNum=${perk.getPerkNum()}"
          >
            <th:block th:if="${perkIndex.index <= 3 && perkIndex.index > 0}">
              <div th:replace="~{partials/detailed-match/participant-build/perk-build.html :: rune-icon(${perkNum}, ${false})}"></div>
            </th:block>
          </th:block>
        </div>
      </div>
    </div>

    <div class="card bg-transparent border-0">
      <div class="card-body bg-transparent border-0 pb-0 d-flex justify-content-center"
           th:with="perkStyle=${perks[4].getStyle()}"
      >
        <div class="d-flex justify-content-center align-self-center">
          <div th:replace="~{partials/detailed-match/participant-build/perk-build.html :: rune-icon(${perkStyle}, ${false})}"></div>
        </div>
      </div>

      <div class="card-footer bg-transparent border-0">
        <div class="d-flex justify-content-center gap-3 p-1 rounded bg-color-neutral-medDark">
          <th:block th:each="perk, perkIndex : ${perks}"
                    th:with="perkNum=${perk.getPerkNum()}"
          >
            <th:block th:if="${perkIndex.index > 3}">
              <div th:replace="~{partials/detailed-match/participant-build/perk-build.html :: rune-icon(${perkNum}, ${false})}"></div>
            </th:block>
          </th:block>
        </div>
      </div>
    </div>
  </div>
</div>


<img th:fragment="rune-icon(perkNum, isPrimary)"
     th:src="@{${'/img/summoner_runes/' + perkNum + '.png'}}"
     th:alt="${'player perk'}"
     class="non-selectable opacity-75"
     th:classappend="${isPrimary} ? 'perk-icon-xl' : 'perk-icon-lg'"
>